{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Milin/Desktop/RUBIX26/FoundIt/src/lib/db.ts"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst MONGODB_URI = process.env.MONGO_URI || \"\";\r\n\r\nif (!MONGODB_URI) {\r\n    throw new Error(\r\n        \"Please define the MONGO_URI environment variable inside .env.local\"\r\n    );\r\n}\r\n\r\ninterface MongooseCache {\r\n    conn: typeof mongoose | null;\r\n    promise: Promise<typeof mongoose> | null;\r\n}\r\n\r\ndeclare global {\r\n    var mongoose: MongooseCache;\r\n}\r\n\r\nlet cached = global.mongoose;\r\n\r\nif (!cached) {\r\n    cached = global.mongoose = { conn: null, promise: null };\r\n}\r\n\r\nasync function connectDB() {\r\n    if (cached.conn) {\r\n        return cached.conn;\r\n    }\r\n\r\n    if (!cached.promise) {\r\n        const opts = {\r\n            bufferCommands: false,\r\n        };\r\n\r\n        cached.promise = mongoose.connect(MONGODB_URI, opts).then((mongoose) => {\r\n            return mongoose;\r\n        });\r\n    }\r\n    try {\r\n        cached.conn = await cached.promise;\r\n    } catch (e) {\r\n        cached.promise = null;\r\n        throw e;\r\n    }\r\n\r\n    return cached.conn;\r\n}\r\n\r\nexport default connectDB;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,SAAS,IAAI;AAE7C,IAAI,CAAC,aAAa;IACd,MAAM,IAAI,MACN;AAER;AAWA,IAAI,SAAS,OAAO,QAAQ;AAE5B,IAAI,CAAC,QAAQ;IACT,SAAS,OAAO,QAAQ,GAAG;QAAE,MAAM;QAAM,SAAS;IAAK;AAC3D;AAEA,eAAe;IACX,IAAI,OAAO,IAAI,EAAE;QACb,OAAO,OAAO,IAAI;IACtB;IAEA,IAAI,CAAC,OAAO,OAAO,EAAE;QACjB,MAAM,OAAO;YACT,gBAAgB;QACpB;QAEA,OAAO,OAAO,GAAG,mKAAQ,CAAC,OAAO,CAAC,aAAa,MAAM,IAAI,CAAC,CAAC;YACvD,OAAO;QACX;IACJ;IACA,IAAI;QACA,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IACtC,EAAE,OAAO,GAAG;QACR,OAAO,OAAO,GAAG;QACjB,MAAM;IACV;IAEA,OAAO,OAAO,IAAI;AACtB;uCAEe"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Milin/Desktop/RUBIX26/FoundIt/src/models/User.ts"],"sourcesContent":["import mongoose, { Schema, Document, Model } from \"mongoose\";\r\n\r\nexport interface IUser extends Document {\r\n    name: string;\r\n    email: string;\r\n    password?: string;\r\n}\r\n\r\nconst UserSchema: Schema<IUser> = new Schema({\r\n    name: String,\r\n    email: { type: String, unique: true, required: true },\r\n    password: { type: String, required: true },\r\n});\r\n\r\nconst User: Model<IUser> = mongoose.models.User || mongoose.model<IUser>(\"User\", UserSchema);\r\n\r\nexport default User;\r\n"],"names":[],"mappings":";;;;AAAA;;AAQA,MAAM,aAA4B,IAAI,kKAAM,CAAC;IACzC,MAAM;IACN,OAAO;QAAE,MAAM;QAAQ,QAAQ;QAAM,UAAU;IAAK;IACpD,UAAU;QAAE,MAAM;QAAQ,UAAU;IAAK;AAC7C;AAEA,MAAM,OAAqB,mKAAQ,CAAC,MAAM,CAAC,IAAI,IAAI,mKAAQ,CAAC,KAAK,CAAQ,QAAQ;uCAElE"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Milin/Desktop/RUBIX26/FoundIt/src/app/api/user/login/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\nimport connectDB from \"@/lib/db\";\r\nimport User from \"@/models/User\";\r\nimport bcrypt from \"bcrypt\";\r\n\r\nexport async function POST(req: NextRequest) {\r\n    await connectDB();\r\n    try {\r\n        const { email, password } = await req.json();\r\n\r\n        const user = await User.findOne({ email });\r\n        if (!user) {\r\n            return NextResponse.json({ message: \"User not found\" }, { status: 400 });\r\n        }\r\n\r\n        const validPassword = await bcrypt.compare(password, user.password as string);\r\n        if (!validPassword) {\r\n            return NextResponse.json({ message: \"Invalid credentials\" }, { status: 400 });\r\n        }\r\n\r\n        // In a real app, generate JWT here. For now, returning user object as per legacy.\r\n        return NextResponse.json({ message: \"Login successful\", user });\r\n    } catch (err: any) {\r\n        return NextResponse.json({ message: \"Error logging in\", error: err.message }, { status: 500 });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEO,eAAe,KAAK,GAAgB;IACvC,MAAM,IAAA,6HAAS;IACf,IAAI;QACA,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;QAE1C,MAAM,OAAO,MAAM,kIAAI,CAAC,OAAO,CAAC;YAAE;QAAM;QACxC,IAAI,CAAC,MAAM;YACP,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAAiB,GAAG;gBAAE,QAAQ;YAAI;QAC1E;QAEA,MAAM,gBAAgB,MAAM,6JAAM,CAAC,OAAO,CAAC,UAAU,KAAK,QAAQ;QAClE,IAAI,CAAC,eAAe;YAChB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAAsB,GAAG;gBAAE,QAAQ;YAAI;QAC/E;QAEA,kFAAkF;QAClF,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAoB;QAAK;IACjE,EAAE,OAAO,KAAU;QACf,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAoB,OAAO,IAAI,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IAChG;AACJ"}}]
}