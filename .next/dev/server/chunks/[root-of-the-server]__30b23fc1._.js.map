{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Milin/Desktop/RUBIX26/FoundIt/src/lib/db.ts"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst MONGODB_URI = process.env.MONGO_URI || \"\";\r\n\r\nif (!MONGODB_URI) {\r\n    throw new Error(\r\n        \"Please define the MONGO_URI environment variable inside .env.local\"\r\n    );\r\n}\r\n\r\ninterface MongooseCache {\r\n    conn: typeof mongoose | null;\r\n    promise: Promise<typeof mongoose> | null;\r\n}\r\n\r\ndeclare global {\r\n    var mongoose: MongooseCache;\r\n}\r\n\r\nlet cached = global.mongoose;\r\n\r\nif (!cached) {\r\n    cached = global.mongoose = { conn: null, promise: null };\r\n}\r\n\r\nasync function connectDB() {\r\n    if (cached.conn) {\r\n        return cached.conn;\r\n    }\r\n\r\n    if (!cached.promise) {\r\n        const opts = {\r\n            bufferCommands: false,\r\n        };\r\n\r\n        cached.promise = mongoose.connect(MONGODB_URI, opts).then((mongoose) => {\r\n            return mongoose;\r\n        });\r\n    }\r\n    try {\r\n        cached.conn = await cached.promise;\r\n    } catch (e) {\r\n        cached.promise = null;\r\n        throw e;\r\n    }\r\n\r\n    return cached.conn;\r\n}\r\n\r\nexport default connectDB;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,SAAS,IAAI;AAE7C,IAAI,CAAC,aAAa;IACd,MAAM,IAAI,MACN;AAER;AAWA,IAAI,SAAS,OAAO,QAAQ;AAE5B,IAAI,CAAC,QAAQ;IACT,SAAS,OAAO,QAAQ,GAAG;QAAE,MAAM;QAAM,SAAS;IAAK;AAC3D;AAEA,eAAe;IACX,IAAI,OAAO,IAAI,EAAE;QACb,OAAO,OAAO,IAAI;IACtB;IAEA,IAAI,CAAC,OAAO,OAAO,EAAE;QACjB,MAAM,OAAO;YACT,gBAAgB;QACpB;QAEA,OAAO,OAAO,GAAG,mKAAQ,CAAC,OAAO,CAAC,aAAa,MAAM,IAAI,CAAC,CAAC;YACvD,OAAO;QACX;IACJ;IACA,IAAI;QACA,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IACtC,EAAE,OAAO,GAAG;QACR,OAAO,OAAO,GAAG;QACjB,MAAM;IACV;IAEA,OAAO,OAAO,IAAI;AACtB;uCAEe"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Milin/Desktop/RUBIX26/FoundIt/src/models/Claim.ts"],"sourcesContent":["import mongoose, { Schema, Document, Model } from \"mongoose\";\r\n\r\nexport interface IClaim extends Document {\r\n    itemId: mongoose.Types.ObjectId;\r\n    finderEmail: string;\r\n    claimantName: string;\r\n    claimantEmail: string;\r\n    answer: string;\r\n    status: \"pending\" | \"approved\" | \"rejected\";\r\n}\r\n\r\nconst claimSchema: Schema<IClaim> = new Schema({\r\n    itemId: {\r\n        type: mongoose.Schema.Types.ObjectId,\r\n        ref: \"Item\",\r\n        required: true,\r\n    },\r\n    finderEmail: String,\r\n    claimantName: String,\r\n    claimantEmail: String,\r\n    answer: String,\r\n    status: {\r\n        type: String,\r\n        enum: [\"pending\", \"approved\", \"rejected\"],\r\n        default: \"pending\",\r\n    },\r\n});\r\n\r\nconst Claim: Model<IClaim> = mongoose.models.Claim || mongoose.model<IClaim>(\"Claim\", claimSchema);\r\n\r\nexport default Claim;\r\n"],"names":[],"mappings":";;;;AAAA;;AAWA,MAAM,cAA8B,IAAI,kKAAM,CAAC;IAC3C,QAAQ;QACJ,MAAM,mKAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QACpC,KAAK;QACL,UAAU;IACd;IACA,aAAa;IACb,cAAc;IACd,eAAe;IACf,QAAQ;IACR,QAAQ;QACJ,MAAM;QACN,MAAM;YAAC;YAAW;YAAY;SAAW;QACzC,SAAS;IACb;AACJ;AAEA,MAAM,QAAuB,mKAAQ,CAAC,MAAM,CAAC,KAAK,IAAI,mKAAQ,CAAC,KAAK,CAAS,SAAS;uCAEvE"}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Milin/Desktop/RUBIX26/FoundIt/src/app/api/claim/notifications/%5Bemail%5D/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\nimport connectDB from \"@/lib/db\";\r\nimport Claim from \"@/models/Claim\";\r\n\r\nexport async function GET(req: NextRequest, { params }: { params: { email: string } }) {\r\n    await connectDB();\r\n    try {\r\n        const { email } = params;\r\n        // Wait, params are promisified in latest Next.js? \r\n        // But usually { params } argument works.\r\n\r\n        // Note: in Next.js 15 params promise, in 14 it's object. Assuming 14/15 compat.\r\n\r\n        const claims = await Claim.find({\r\n            finderEmail: email,\r\n            status: \"pending\",\r\n        }).populate(\"itemId\");\r\n\r\n        return NextResponse.json(claims);\r\n    } catch (error: any) {\r\n        return NextResponse.json({ message: \"Error fetching notifications\", error: error.message }, { status: 500 });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,IAAI,GAAgB,EAAE,EAAE,MAAM,EAAiC;IACjF,MAAM,IAAA,6HAAS;IACf,IAAI;QACA,MAAM,EAAE,KAAK,EAAE,GAAG;QAClB,mDAAmD;QACnD,yCAAyC;QAEzC,gFAAgF;QAEhF,MAAM,SAAS,MAAM,mIAAK,CAAC,IAAI,CAAC;YAC5B,aAAa;YACb,QAAQ;QACZ,GAAG,QAAQ,CAAC;QAEZ,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAY;QACjB,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAgC,OAAO,MAAM,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IAC9G;AACJ"}}]
}