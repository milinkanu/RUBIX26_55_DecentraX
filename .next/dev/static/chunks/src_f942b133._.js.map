{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Milin/Desktop/RUBIX26/FoundIt/src/components/Navbar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport { AlertTriangle, Bell, Menu, X } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter, usePathname } from \"next/navigation\";\r\nimport axios from \"axios\";\r\n\r\ninterface User {\r\n  name?: string;\r\n  email: string;\r\n}\r\n\r\ninterface Claim {\r\n  _id: string;\r\n  claimantName: string;\r\n  itemId: {\r\n    title: string;\r\n  };\r\n  answer: string;\r\n}\r\n\r\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000';\r\n\r\nexport function Navbar() {\r\n  const [isSidebarOpen, setSidebarOpen] = useState(false);\r\n  const [notifications, setNotifications] = useState<Claim[]>([]);\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n  const sidebarRef = useRef<HTMLDivElement>(null);\r\n  const buttonRef = useRef<HTMLButtonElement>(null);\r\n  const dropdownRef = useRef<HTMLDivElement>(null);\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n\r\n  useEffect(() => {\r\n    // Client-side only\r\n    if (typeof window !== \"undefined\") {\r\n      const storedUser = localStorage.getItem(\"user\");\r\n      const parsedUser = storedUser ? JSON.parse(storedUser) : null;\r\n      setUser(parsedUser);\r\n\r\n      if (parsedUser) fetchNotifications(parsedUser.email);\r\n    }\r\n  }, [pathname]);\r\n\r\n  const handleClaimAction = async (claimId: string, status: string) => {\r\n    try {\r\n      await axios.patch(\r\n        `${API_URL}/api/claim/${claimId}`,\r\n        { status }\r\n      );\r\n      setNotifications((prev) => prev.filter((claim) => claim._id !== claimId));\r\n    } catch (err) {\r\n      console.error(\"Error updating claim status:\", err);\r\n    }\r\n  };\r\n\r\n  const fetchNotifications = async (email: string) => {\r\n    try {\r\n      const res = await axios.get(\r\n        `${API_URL}/api/claim/notifications/${email}`\r\n      );\r\n      setNotifications(res.data);\r\n    } catch (err) {\r\n      console.error(\"Error fetching notifications:\", err);\r\n    }\r\n  };\r\n\r\n  const handleSidebarToggle = () => setSidebarOpen((prev) => !prev);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"user\");\r\n    setUser(null);\r\n    router.push(\"/login\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (\r\n        sidebarRef.current &&\r\n        !sidebarRef.current.contains(event.target as Node) &&\r\n        buttonRef.current &&\r\n        !buttonRef.current.contains(event.target as Node)\r\n      ) {\r\n        setSidebarOpen(false);\r\n      }\r\n\r\n      if (\r\n        dropdownRef.current &&\r\n        !dropdownRef.current.contains(event.target as Node)\r\n      ) {\r\n        setShowDropdown(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  const isActiveLink = (path: string) => pathname === path;\r\n\r\n  return (\r\n    <nav className=\"relative z-[999]\">\r\n      <div className=\"bg-black/90 p-4 sticky top-0 flex justify-between items-center border-b border-white/10 backdrop-blur-md\">\r\n        <Link href=\"/\" className=\"flex items-center gap-2\">\r\n          <AlertTriangle className=\"h-8 w-8 text-yellow-400\" />\r\n          <span className=\"text-xl font-bold text-white\">FoundIt!</span>\r\n        </Link>\r\n\r\n        <div className=\"hidden lg:flex gap-6\">\r\n          {[\r\n            { path: \"/\", label: \"Home\" }, // Actually Home is / mostly, but keeping 'home' if needed\r\n            { path: \"/find\", label: \"Find Item\" },\r\n            { path: \"/post\", label: \"Post Item\" }\r\n          ].map((item) => (\r\n            <Link\r\n              key={item.path}\r\n              href={item.path}\r\n              className={`hover:text-yellow-400 transition-colors ${isActiveLink(item.path) ? \"text-yellow-400\" : \"text-white\"\r\n                }`}\r\n            >\r\n              {item.label}\r\n            </Link>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-3 relative\">\r\n          {user && (\r\n            <div className=\"relative\" ref={dropdownRef}>\r\n              <Bell\r\n                className=\"text-yellow-400 h-6 w-6 cursor-pointer\"\r\n                onClick={() => setShowDropdown((prev) => !prev)}\r\n              />\r\n              {notifications.length > 0 && (\r\n                <span className=\"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full px-1.5\">\r\n                  {notifications.length}\r\n                </span>\r\n              )}\r\n\r\n              {showDropdown && (\r\n                <div className=\"absolute right-0 mt-3 bg-neutral-900/95 text-white p-3 rounded-lg shadow-xl w-72 border border-white/10\">\r\n                  <h4 className=\"text-gray-200 mb-2 font-semibold text-sm\">\r\n                    Notifications\r\n                  </h4>\r\n\r\n                  {notifications.length === 0 ? (\r\n                    <div className=\"flex flex-col items-center justify-center text-center py-4 text-gray-400 text-sm\">\r\n                      <p>No new claim requests</p>\r\n                    </div>\r\n                  ) : (\r\n                    notifications.map((claim) => (\r\n                      <div\r\n                        key={claim._id}\r\n                        className=\"text-sm border-b border-white/10 pb-2 mb-2 hover:bg-white/5 rounded-md p-2 transition\"\r\n                      >\r\n                        <p>\r\n                          <span className=\"text-gray-300\">Username:</span>{\" \"}\r\n                          {claim.claimantName}\r\n                        </p>\r\n                        <p>\r\n                          <span className=\"text-gray-300\">Item:</span>{\" \"}\r\n                          {claim.itemId.title}\r\n                        </p>\r\n                        <p>\r\n                          <span className=\"text-gray-300\">Answer:</span>{\" \"}\r\n                          {claim.answer}\r\n                        </p>\r\n                        <div className=\"flex gap-2 mt-2\">\r\n                          <button\r\n                            onClick={() =>\r\n                              handleClaimAction(claim._id, \"approved\")\r\n                            }\r\n                            className=\"bg-green-500/90 px-2 py-1 rounded text-white text-xs hover:bg-green-600 transition\"\r\n                          >\r\n                            Accept\r\n                          </button>\r\n                          <button\r\n                            onClick={() =>\r\n                              handleClaimAction(claim._id, \"rejected\")\r\n                            }\r\n                            className=\"bg-red-500/90 px-2 py-1 rounded text-white text-xs hover:bg-red-600 transition\"\r\n                          >\r\n                            Reject\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ))\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {user ? (\r\n            <>\r\n              <span className=\"text-white text-sm hidden sm:block\">\r\n                ðŸ‘‹ Hello,{\" \"}\r\n                <span className=\"text-yellow-400 font-semibold\">\r\n                  {user.name || user.email}\r\n                </span>\r\n              </span>\r\n\r\n              <button\r\n                onClick={handleLogout}\r\n                className=\"hidden lg:inline-flex bg-yellow-400 text-black px-3 py-1.5 rounded-lg font-semibold hover:bg-yellow-500 transition-colors\"\r\n              >\r\n                Logout\r\n              </button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Link\r\n                href=\"/login\"\r\n                className=\"hidden sm:inline-flex bg-yellow-400 text-black px-4 py-2 rounded-lg font-semibold hover:bg-yellow-500 transition-colors\"\r\n              >\r\n                Login\r\n              </Link>\r\n              <Link\r\n                href=\"/signup\"\r\n                className=\"hidden sm:inline-flex bg-white/10 text-white px-4 py-2 rounded-lg font-semibold hover:bg-white/20 transition-colors\"\r\n              >\r\n                Sign Up\r\n              </Link>\r\n            </>\r\n          )}\r\n\r\n          <button\r\n            ref={buttonRef}\r\n            onClick={handleSidebarToggle}\r\n            className=\"lg:hidden text-white focus:outline-none\"\r\n          >\r\n            {isSidebarOpen ? (\r\n              <X className=\"h-6 w-6\" />\r\n            ) : (\r\n              <Menu className=\"h-6 w-6\" />\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        ref={sidebarRef}\r\n        className={`fixed top-0 right-0 h-full w-56 bg-black/95 backdrop-blur-lg border-l border-yellow-400 flex flex-col justify-center items-center gap-8 text-white transform transition-transform duration-300 ${isSidebarOpen ? \"translate-x-0\" : \"translate-x-full\"\r\n          }`}\r\n      >\r\n        {user && (\r\n          <p className=\"text-sm text-gray-300 text-center mb-4\">\r\n            ðŸ‘‹ Hello,{\" \"}\r\n            <span className=\"text-yellow-400 font-semibold\">\r\n              {user.name || user.email}\r\n            </span>\r\n          </p>\r\n        )}\r\n\r\n        {[\r\n          { path: \"/\", label: \"Home\" },\r\n          { path: \"/find\", label: \"Find Item\" },\r\n          { path: \"/post\", label: \"Post Item\" }\r\n        ].map((item) => (\r\n          <Link\r\n            key={item.path}\r\n            href={item.path}\r\n            onClick={() => setSidebarOpen(false)}\r\n            className={`hover:text-yellow-400 transition-colors ${isActiveLink(item.path) ? \"text-yellow-400\" : \"text-white\"\r\n              }`}\r\n          >\r\n            {item.label}\r\n          </Link>\r\n        ))}\r\n\r\n        {user ? (\r\n          <button\r\n            onClick={() => {\r\n              handleLogout();\r\n              setSidebarOpen(false);\r\n            }}\r\n            className=\"bg-yellow-400 text-black px-4 py-2 rounded-lg font-semibold hover:bg-yellow-500 transition-colors\"\r\n          >\r\n            Logout\r\n          </button>\r\n        ) : (\r\n          <>\r\n            <Link\r\n              href=\"/login\"\r\n              onClick={() => setSidebarOpen(false)}\r\n              className=\"bg-yellow-400 text-black px-4 py-2 rounded-lg font-semibold hover:bg-yellow-500 transition-colors\"\r\n            >\r\n              Login\r\n            </Link>\r\n            <Link\r\n              href=\"/signup\"\r\n              onClick={() => setSidebarOpen(false)}\r\n              className=\"bg-white/10 text-white px-4 py-2 rounded-lg font-semibold hover:bg-white/20 transition-colors\"\r\n            >\r\n              Sign Up\r\n            </Link>\r\n          </>\r\n        )}\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 500, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Milin/Desktop/RUBIX26/FoundIt/src/components/PostItem.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { Upload } from \"lucide-react\";\r\nimport axios from \"axios\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { Navbar } from \"./Navbar\";\r\n\r\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000';\r\n\r\nexport function PostItem() {\r\n    const [formData, setFormData] = useState({\r\n        phone: \"\",\r\n        title: \"\",\r\n        description: \"\",\r\n        verify: \"\",\r\n        category: \"\",\r\n        city: \"\",\r\n        area: \"\",\r\n        landmark: \"\",\r\n        type: \"Found\", // Default\r\n    });\r\n\r\n    const [file, setFile] = useState<File | null>(null);\r\n    const [fileUrl, setFileUrl] = useState(\"\");\r\n    const [uploading, setUploading] = useState(false);\r\n\r\n    const categories = [\"Mobile\", \"Wallet\", \"Documents\", \"Bag\", \"Keys\", \"Electronics\", \"Other\"];\r\n    const types = [\"Lost\", \"Found\"];\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\r\n        setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files) {\r\n            setFile(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        const storedUser = typeof window !== 'undefined' ? localStorage.getItem(\"user\") : null;\r\n        const user = storedUser ? JSON.parse(storedUser) : null;\r\n\r\n        if (\r\n            !user?.name ||\r\n            !user?.email ||\r\n            !formData.phone ||\r\n            !formData.title ||\r\n            !formData.description ||\r\n            !formData.verify ||\r\n            !formData.category ||\r\n            !formData.city ||\r\n            !formData.area ||\r\n            !formData.type\r\n        ) {\r\n            toast.warning(\"Please fill all required fields\");\r\n            return;\r\n        }\r\n\r\n\r\n        if (!file) {\r\n            toast.warning(\"Please select a file to upload\");\r\n            return;\r\n        }\r\n\r\n        setUploading(true);\r\n\r\n        try {\r\n            // Upload file to Cloudinary\r\n            const data = new FormData();\r\n            data.append(\"file\", file);\r\n            data.append(\"upload_preset\", \"First_time_using_cloudinary\");\r\n\r\n            const cloudinaryRes = await axios.post(\r\n                \"https://api.cloudinary.com/v1_1/dscllest7/image/upload\",\r\n                data\r\n            );\r\n\r\n            const uploadedFileUrl = cloudinaryRes.data.secure_url;\r\n            setFileUrl(uploadedFileUrl);\r\n\r\n            // Send to backend\r\n            const { category, city, area, landmark, type, ...rest } = formData;\r\n            const payload = {\r\n                ...rest,\r\n                category,\r\n                type,\r\n                location: { city, area, landmark },\r\n                name: user.name,\r\n                email: user.email,\r\n                file: uploadedFileUrl,\r\n            };\r\n\r\n            await axios.post(`${API_URL}/api/items`, payload);\r\n\r\n\r\n            toast.success(\"Item posted successfully!\");\r\n\r\n            setFormData({\r\n                phone: \"\",\r\n                title: \"\",\r\n                description: \"\",\r\n                verify: \"\",\r\n                category: \"\",\r\n                city: \"\",\r\n                area: \"\",\r\n                landmark: \"\",\r\n                type: \"Found\",\r\n            });\r\n\r\n            setFile(null);\r\n            setFileUrl(\"\");\r\n        } catch (err: any) {\r\n            console.error(\"Error posting item:\", err);\r\n            toast.error(\"Error: \" + err.message);\r\n        } finally {\r\n            setUploading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-b from-gray-900 to-black text-white\">\r\n            <Navbar />\r\n            <ToastContainer position=\"top-center\" autoClose={3000} />\r\n\r\n            <div className=\"max-w-3xl mx-auto px-6 py-16\">\r\n                <h1 className=\"text-4xl font-bold text-center mb-10\">Post Item</h1>\r\n\r\n                <div className=\"bg-black/80 p-8 rounded-2xl shadow-2xl border border-gray-800\">\r\n                    <p className=\"text-gray-400 mb-6\">\r\n                        Please fill all the required fields\r\n                    </p>\r\n\r\n                    <form className=\"space-y-5\" onSubmit={handleSubmit}>\r\n\r\n                        {/* User Info Display */}\r\n                        <div className=\"flex flex-col gap-1 sm:flex-row sm:items-center sm:gap-2 text-xs sm:text-sm text-gray-300 bg-black/40 border border-dashed border-yellow-400/30 rounded-lg px-3 py-2 sm:px-4 sm:py-2 cursor-default select-none max-w-full\">\r\n                            <span className=\"flex items-center gap-1 text-gray-500 whitespace-nowrap\">\r\n                                <span>ðŸ‘¤ Posting as</span>\r\n                                { /* Placeholder until client loads user */}\r\n                                { /* In real app, might want to show this only when user is loaded */}\r\n                                <span className=\"font-semibold text-yellow-400 truncate max-w-[60vw] sm:max-w-none\">\r\n                                    User\r\n                                </span>\r\n                                {/* We rely on localstorage in handleSubmit. Display logic bit tricky without state from navbar/user provider. \r\n                    For now, simplifying mostly for submission logic.\r\n                 */}\r\n                            </span>\r\n                        </div>\r\n\r\n                        {/* Type Selection */}\r\n                        <div>\r\n                            <label className=\"block text-sm text-gray-400 mb-2\">I am posting a...</label>\r\n                            <div className=\"flex gap-4\">\r\n                                {types.map((t) => (\r\n                                    <label key={t} className=\"flex items-center gap-2 cursor-pointer bg-gray-900 px-4 py-2 rounded-lg border border-gray-700 hover:border-yellow-400 transition-colors\">\r\n                                        <input\r\n                                            type=\"radio\"\r\n                                            name=\"type\"\r\n                                            value={t}\r\n                                            checked={formData.type === t}\r\n                                            onChange={handleChange}\r\n                                            className=\"text-yellow-400 focus:ring-yellow-400\"\r\n                                        />\r\n                                        <span className={formData.type === t ? \"text-yellow-400 font-semibold\" : \"text-gray-300\"}>\r\n                                            {t} Item\r\n                                        </span>\r\n                                    </label>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Category */}\r\n                        <div>\r\n                            <label className=\"block text-sm text-gray-400 mb-1\">Category</label>\r\n                            <select\r\n                                name=\"category\"\r\n                                value={formData.category}\r\n                                onChange={handleChange}\r\n                                className=\"w-full p-3 bg-black border border-gray-700 rounded-md text-white focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400\"\r\n                            >\r\n                                <option value=\"\">Select Category</option>\r\n                                {categories.map((cat) => (\r\n                                    <option key={cat} value={cat}>\r\n                                        {cat}\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n\r\n                        {/* Location Inputs */}\r\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                            <input\r\n                                type=\"text\"\r\n                                name=\"city\"\r\n                                placeholder=\"City *\"\r\n                                value={formData.city}\r\n                                onChange={handleChange}\r\n                                className=\"w-full p-3 bg-black border border-gray-700 rounded-md text-white focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400\"\r\n                            />\r\n                            <input\r\n                                type=\"text\"\r\n                                name=\"area\"\r\n                                placeholder=\"Area *\"\r\n                                value={formData.area}\r\n                                onChange={handleChange}\r\n                                className=\"w-full p-3 bg-black border border-gray-700 rounded-md text-white focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400\"\r\n                            />\r\n                        </div>\r\n\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"landmark\"\r\n                            placeholder=\"Landmark (Optional)\"\r\n                            value={formData.landmark}\r\n                            onChange={handleChange}\r\n                            className=\"w-full p-3 bg-black border border-gray-700 rounded-md text-white focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400\"\r\n                        />\r\n\r\n                        <input\r\n                            type=\"tel\"\r\n                            name=\"phone\"\r\n                            placeholder=\"Contact Phone *\"\r\n                            value={formData.phone}\r\n                            onChange={handleChange}\r\n                            className=\"w-full p-3 bg-black border border-gray-700 rounded-md text-white focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400\"\r\n                        />\r\n\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"title\"\r\n                            placeholder=\"Item Title *\"\r\n                            value={formData.title}\r\n                            onChange={handleChange}\r\n                            className=\"w-full p-3 bg-black border border-gray-700 rounded-md text-white focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400\"\r\n                        />\r\n\r\n                        <textarea\r\n                            name=\"description\"\r\n                            placeholder=\"Item Description *\"\r\n                            rows={4}\r\n                            value={formData.description}\r\n                            onChange={handleChange}\r\n                            className=\"w-full p-3 bg-black border border-gray-700 rounded-md text-white focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400\"\r\n                        />\r\n\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"verify\"\r\n                            placeholder=\"Verification Question (e.g. 'What is the wallpaper?')\"\r\n                            value={formData.verify}\r\n                            onChange={handleChange}\r\n                            className=\"w-full p-3 bg-black border border-gray-700 rounded-md text-white focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400\"\r\n                        />\r\n\r\n                        {/* File Upload */}\r\n                        <label\r\n                            htmlFor=\"file\"\r\n                            className=\"flex items-center gap-3 p-3 border border-gray-700 rounded-md cursor-pointer hover:border-yellow-400 transition-colors duration-200\"\r\n                        >\r\n                            <Upload className=\"h-5 w-5 text-yellow-400\" />\r\n                            <span className=\"text-gray-300\">\r\n                                {file ? file.name : \"Choose File *\"}\r\n                            </span>\r\n                        </label>\r\n                        <input\r\n                            type=\"file\"\r\n                            id=\"file\"\r\n                            className=\"hidden\"\r\n                            onChange={handleFileChange}\r\n                        />\r\n\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={uploading}\r\n                            className=\"w-full bg-yellow-400 text-black font-semibold py-3 rounded-md hover:bg-yellow-500 transition-colors duration-200\"\r\n                        >\r\n                            {uploading ? \"Uploading...\" : \"POST ITEM\"}\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 965, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Milin/Desktop/RUBIX26/FoundIt/src/app/post/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { PostItem } from \"@/components/PostItem\";\r\n\r\nexport default function PostPage() {\r\n    return <PostItem />;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACpB,qBAAO,6LAAC,6IAAQ;;;;;AACpB;KAFwB"}}]
}